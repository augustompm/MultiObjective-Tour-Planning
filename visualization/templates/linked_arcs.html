<!doctype html>
<html>
  <head>
    <script src="https://d3js.org/d3.v3.min.js"></script>
    <script src="{{ url_for('static', filename='js/linkedArc.js') }}"></script>
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Josefin+Slab">
    <style>
      body {
        margin: 0;
        padding: 0;
        font-family: Arial, sans-serif;
        background-color: white;
      }
      .title-container {
        text-align: center;
        padding: 10px 0;
      }
      .title-container h1 {
        margin: 0;
        color: #3b5ddb;
        font-size: 24px;
      }
      .title-container h2 {
        margin: 10px 0;
        font-size: 18px;
      }
      #mainDiv {
        position: relative;
        margin: 0 auto;
        width: 100%;
        height: calc(100vh - 100px);
      }
      .tooltipTitle {
        font-family: 'Arial';
        font-size: 13px;
        font-weight: bold;
      }
      .tooltipVal {
        font-family: 'Josefin Slab';
        font-size: 15px;
        font-style: italic;
      }
      .selectionFrame {
        stroke: gray;
        stroke-width: 1px;
        stroke-dasharray: 4px;
        stroke-opacity: 1;
        fill: blue;
        opacity: 0.1;
      }
      .link {
        stroke: #3b5ddb;
        stroke-width: 0.8;
        opacity: 0.15;
        fill: none;
      }
      .coloredLink {
        stroke: #3b5ddb;
        stroke-width: 1.5;
        fill: none;
      }
      .linkOver {
        stroke: #e74c3c;
        stroke-width: 2;
        opacity: 1;
        fill: none;
      }
      .linkNoOver {
        stroke: #3b5ddb;
        stroke-width: 0.5;
        opacity: 0.05;
        fill: none;
      }
      .linkOnObj {
        stroke: #e74c3c;
        stroke-width: 1;
        opacity: 1;
        fill: none;
      }
      .selectedLink {
        stroke: #2ecc71;
        stroke-width: 1.5;
        opacity: 1;
        fill: none;
      }
      .unSelectedLink {
        stroke: #3b5ddb;
        stroke-width: 0.5;
        opacity: 0.05;
        fill: none;
      }
      .arcPath {
        cursor: pointer;
        fill: #3b5ddb;
        stroke: #2a42a5;
        stroke-width: 1;
      }
      .objectiveLabel {
        font-family: Arial, sans-serif;
        font-size: 14px;
        font-weight: bold;
        text-anchor: middle;
      }
      .objectiveValue {
        font-family: Arial, sans-serif;
        font-size: 10px;
        fill: #333;
        pointer-events: none; /* Permite cliques através do texto */
      }
    </style>
    <title>Visualização de Linked Arcs</title>
  </head>
  <body>
    <div class="title-container">
      <h1>Visualização de Linked Arcs</h1>
      <h2>Visualização de Objetivos Interconectados</h2>
    </div>
    <div id="mainDiv"></div>
    <script>
      var doc; // Document Size
      doc = document.getElementById('mainDiv');
      var mainSVG = d3.select('#mainDiv').append('svg')
                    .attr('id', 'mainSVG')
                    .attr('width', doc.clientWidth)
                    .attr('height', doc.clientHeight)
                    .on("mousedown", mouseDown)
                    .on("mouseup", mouseUp)
                    .on('click', Reset);

      // Define objective names
      var objectiveNames = [
        "Custo Total",
        "Tempo Total",
        "Atrações",
        "Bairros"
      ];
      
      d3.json("/data.json", function(error, data) {
        if (error) {
          console.error("Error loading data:", error);
          return;
        }
        
        Data = data;
        Arcs();
      });
    </script>
  </body>
</html>